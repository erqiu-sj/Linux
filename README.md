# Linux

**_linux 世界中，一切皆为文件_**

- cpu,disk 皆是文件

# 文件目录

- `bin`[常用] （usr/local/bin,usr/bin）,存放经常使用的命令
- `sbin` (usr/sbin,usr/local/sbin),super user 存放系统管理员使用的系统管理程序
- `home`[常用] 存放普通用户的主目录，在 linux 中每个用户都有一个自己的目录，一般该目录都是以用户的账号命名
- `root`[常用]该目录为系统管理员，也称作为超级权限者的用户主目录
- `lib`系统开机所需要的最基本的动态链接共享库，几乎所有应用程序都需要用到这个共享库

- `lost+found` 一般情况下为空，当系统非法关机后，这里会存有一些文件
- `etc` [常用] 所有的系统管理所需要的配置文件和子目录，比如 my.conf
- `usr` [常用]这是一个非常重要的目录，用户的很多应用程序和目录都放在这个应用下
- `boot`[常用] 存放的是启用 linux 的一些核心文件，包括链接文件以及镜像文件
- `proc`[不能动]这是目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息
- `srv`[不能动]services 缩写，该目录存放一些服务启动之后需要提取的数据
- `tmp` 存放临时文件
- `dev`[重要]类似于 window 下的设备管理器，将所有硬件用文件方式储存
- `media`[常用]linux 下会自动识别 u 盘，光驱等等，识别后会将识别的设备挂载到这个目录下面
- `mnt`[常用]系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的储存挂载到／mnt 上，就可以查看里面的内容了
- `opt` 这是给主机额外安装软件所摆放的目录，如安装 mysql 就可以放在该目录下，默认为空，一般为软件存放目录
- `usr/local`[常用] 这是另一个给主机额外安装软件所需要的目录，一般是通过编译源码安装的程序，软件安装的目标目录
- `var`[常用]存放不断扩充的一些文件目录，比如日志，
- `selinux` 这是一个安全子系统，它能控制程序只能访问特定文件。有三种工作模式，可 diy，默认是不可见的目录

# 关机&重启

- `shutdown` 默认 一分钟后关机

- `shutdown -h now` 立即关机

- `shutdown -h 1` 一分钟后自动关机

- `shutdown -r now` 现在重启

- `halt` 关机作用和上面一样

- `reboot` 现在重启

- `sync` 将内存数据同步到磁盘

  注意： 不管是重启系统还是关闭系统，都需要先执行`sync`，小心小心驶得万年船，现在`shutdown`/`halt`/`reboot`等命令均在关机前使用了 sync

# 登陆&注销

注意：登陆时少用 root 权限登陆，因为他是系统管理员，最大的权限，避免
操作失误，可以利用普通用户登陆，再利用指令`su - 用户名 `，切换称为 root 用户

在提示下输入`logout`即可注销用户

使用细节： `logout`在图形界面下是无效的，在运行级别 **_3_**下
有效

# 用户管理

- `useradd userName` 添加用户，默认创建在`home`目录下,带上`-d`可以指定目录

```shell
useradd -d /home/test king # 我要创建用一个地址为/home/test目录，用户名为king
```

- `passwd userName` 设置密码 注意：如果不给用户名，默认是给当前登陆的用户设置密码

- `userdel [-r] userName` 删除一个用户，默认只删除用户，但是保留了 `home` 目录,`-r` 表示连 `home` 目录一并删除,一般情况下保留`home`目录

## 查询用户信息

- `id userName`如果不存在，返回无此用户
- `whoami/who am i`查看当前用户

## 用户组

- 类似于角色，系统可以对有共性的用户进行统一的管理，可以认定为权限

- `groupadd 组名` 新增组

- `groupdel 组名` 删除组

- `useradd -g 用户组 用户名` 添加用户时直接加上组，如果指定组不存
  在，则会自动创建组，组名为用户名

- `usermod -g 用户组 用户名` 修改用户的组

## 用户组&相关文件

- `/etc/passwd` 用户的配置文件，记录用户的各种信息
  每行的含义：**_用户名：口令：用户标示号_：组标示号：注释性描述：登陆 shell**

- `/etc/shadow` 口令的配置文件 每行的含义：**_登陆名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标示_**

- `/etc/group` 组的配置文件，标记 linux 组包含的信息
  每行含义：**_组名：口令：组标示号：组内用户列表_**

# next 第九章